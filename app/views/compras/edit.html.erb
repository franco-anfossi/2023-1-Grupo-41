<html lang="en" class = "has-background-black">
<h1 class = "is-size-1 is-uppercase has-text-weight-bold has-text-centered has-text-primary" style="margin-top: 100px;">Editar Compra</h1>
<%= form_with model: @compra, url: edit_compra_path(@user, @producto, @compra) do |form| %>
    <% if @compra.user_id == current_user.id %>
    <div class = "is-size-3 has-text-weight-bold has-text-centered has-text-white">
        <%= form.label :valor %><br>
        <%= form.text_field :valor %>
        <% @compra.errors.full_messages_for(:valor).each do |message| %>
        <div><%= message %></div>
        <% end %>
    </div>
    <div class = "is-size-3 has-text-weight-bold has-text-centered has-text-white">
        <%= form.label :descripcion %><br>
        <%= form.text_field :descripcion %>
        <% @compra.errors.full_messages_for(:descripcion).each do |message| %>
        <div><%= message %></div>
        <% end %>
    </div>
    <div class = "is-size-3 has-text-weight-bold has-text-centered has-text-white">
        <%= form.label :estado %><br>
        <%= form.text_field :estado, value: @compra.estado, readonly: true %>
        <% @compra.errors.full_messages_for(:estado).each do |message| %>
            <div><%= message %></div>
        <% end %>
    </div>
    <div class = "is-size-3 has-text-weight-bold has-text-centered has-text-white">
        <%= form.submit %>
    </div>
    <% else %>
    <div class = "is-size-3 has-text-weight-bold has-text-centered has-text-white ">
        <p>No puedes editar una compra que no es tuya</p>
    </div>
    <% end %>
<% end %>
<br>
<div class = "is-size-3 has-text-weight-bold has-text-centered has-text-white">
    <%= link_to "Volver a la compra", :compra %>
</div>